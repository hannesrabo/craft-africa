extends layout.pug


block vars
	- var title = "Modify containers"

block title
	title Modify containers


block content
	form.container(method="post" action="/admin/containers")
		each container, index in containers
			.card
				.card-title
					h4(style="padding: 10px 15px")= container.name
				.card-content
					.row
						.input-field.col.s3
							input.validate(type='text' name="name" required value=container.name)
							label(for='name') Name
						.input-field.col.s3
							select.validate(name="type", value=container.type, required)
								option(value=container.type, selected)= container.type
								option(value='Addon') Addon
								option(value='Fermenting') Fermenting
								option(value='Production') Production
							label(for='type') Type
						.input-field.col.s3
							select.validate(name="series", value=container.series, required)
								option(value=container.series, selected)= container.series
								option(value='A') A
								option(value='B') B
								option(value='C') C
							label(for='series') Series
						.input-field.col.s3
							input.validate(type='number' name="price" required value=container.price)
							label(for='price') Price
						.input-field.col.s3
							input.validate(type='number' name="fermentingCapacity" value=container.fermentingCapacity)
							label(for='fermentingCapacity') Fermenting Capacity
						.input-field.col.s3
							input.validate(type='number' name="storageCapacity" value=container.storageCapacity)
							label(for='storageCapacity') Storage Capacity
						.input-field.col.s3
							input.validate(type='number' name="brewingCapacity" value=container.brewingCapacity)
							label(for='brewingCapacity') Brewing Capacity
						.input-field.col.s3
							input.validate(type='number' name="waterProduction" value=container.waterProduction)
							label(for='waterProduction') Water Production
						.input-field.col.s3
							input.validate(type='number' name="electricityProduction" value=container.electricityProduction)
							label(for='electricityProduction') Electricity Production
						input.enable.btn.red.right(type="button" data-target=`modal${index}` value = "remove" style="margin-right: 10px")
						div(class="modal" id=`modal${index}`)
							.modal-content
								h4 Confirm
								p= "Are you sure you want to delete '" + container.name + "'?"
							.modal-footer
								input.remove.waves-effect.waves-green.btn-flat(type="submit" disabled value="Yes")
								input.modal-action.modal-close.waves-effect.waves-green.btn-flat(type="button" value="No")
						input.btn.save.blue.right(type="submit" value = "save" style="margin-right:10px")
						input(type="hidden" name="id" value=container._id)
						input(type="hidden" name="status" value="unchanged")
	form(method="post" class="addRow" action="/admin/containers/new")
		input.btn.left(type="button" id="add" value = "add new container")
		br
		br
		input.btn-large.left(type="submit"  name="submit" value="submit")
				
	
block scripts
	script(src="/js/adminCont.js")